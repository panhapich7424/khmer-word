<!DOCTYPE html>
<html lang="km">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ល្បែងផ្គូផ្គងពាក្យ - Khmer Word Match2</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Khmer:wght@300;400;500;700&display=swap"
        rel="stylesheet">
</head>

<body>
    <div class="container">
        <header class="header">
            <h1 class="title">ល្បែងផ្គូផ្គងពាក្យ</h1>
            <p class="subtitle">Khmer Word Matching Game</p>
        </header>

        <div class="game-container">
            <div class="main-menu" id="mainMenu">
                <div class="menu-buttons">
                    <button class="menu-btn play-btn" id="playBtn">
                        <span class="btn-icon">🎮</span>
                        <span class="btn-text">ចាប់ផ្តើមលេង</span>
                    </button>
                    <button class="menu-btn how-to-btn" id="howToBtn">
                        <span class="btn-icon">📖</span>
                        <span class="btn-text">របៀបលេង</span>
                    </button>
                </div>
                
                <div class="menu-leaderboard">
                    <h3 class="leaderboard-title">🏆 តារាងពិន្ទុ</h3>
                    <div class="menu-leaderboard-list" id="menuLeaderboardList">
                        <div class="empty-leaderboard">មិនទាន់មានពិន្ទុនៅឡើយទេ</div>
                    </div>
                </div>
            </div>

            <div class="game-board" id="gameBoard" style="display: none;">
                <div class="game-header">
                    <div class="score">ពិន្ទុ: <span id="score">0</span></div>
                    <div class="timer">ពេលវេលា: <span id="timer">10</span>វិ</div>
                    <div class="round">ពាក្យទី: <span id="currentRound">1</span></div>
                    <button class="back-btn" id="backBtn">ត្រលប់ក្រោយ</button>
                </div>

                <div class="hint-section">
                    <button class="hint-btn" id="hintBtn">
                        <span>💡 ជំនួយ</span>
                        <span class="hint-cost" id="hintCost">10 ពិន្ទុ</span>
                    </button>
                    <div class="hint-display" id="hintDisplay"></div>
                </div>

                <div class="game-area">
                    <div class="game-instruction">
                        <p>ចុចលើតួអក្សរពីរដើម្បីប្តូរកន្លែង</p>
                    </div>
                    <div class="word-pieces" id="wordPieces"></div>
                </div>

                <div class="game-controls">
                    <button class="btn btn-secondary" id="nextBtn" style="display: none;">បន្ទាប់</button>
                    <button class="btn btn-secondary" id="resetBtn">ចាប់ផ្តើមឡើងវិញ</button>
                    <button class="btn btn-secondary" id="leaderboardBtn">តារាងពិន្ទុ</button>
                </div>

                <div class="result" id="result"></div>
            </div>

            <!-- Leaderboard Modal -->
            <div class="modal" id="leaderboardModal" style="display: none;">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>🏆 តារាងពិន្ទុ</h2>
                        <button class="close-btn" id="closeLeaderboard">&times;</button>
                    </div>
                    <div class="leaderboard-list" id="leaderboardList"></div>
                </div>
            </div>

            <!-- How to Play Modal -->
            <div class="modal" id="howToModal" style="display: none;">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>📖 របៀបលេង</h2>
                        <button class="close-btn" id="closeHowTo">&times;</button>
                    </div>
                    <div class="modal-body">
                        <div class="how-to-content">
                            <div class="how-to-step">
                                <span class="step-number">១</span>
                                <p>ចុចលើតួអក្សរពីរដើម្បីប្តូរកន្លែង</p>
                            </div>
                            <div class="how-to-step">
                                <span class="step-number">២</span>
                                <p>រៀបចំតួអក្សរឱ្យបានត្រឹមត្រូវ</p>
                            </div>
                            <div class="how-to-step">
                                <span class="step-number">៣</span>
                                <p>ពាក្យនឹងកាន់តែពិបាកតាមលំដាប់</p>
                            </div>
                            <div class="how-to-step">
                                <span class="step-number">៤</span>
                                <p>ពេលវេលានឹងកើនឡើង ៥វិនាទីរៀងរាល់ ១០ពាក្យ</p>
                            </div>
                            <div class="how-to-step">
                                <span class="step-number">៥</span>
                                <p>ប្រើប៊ូតុង "ជំនួយ" ដើម្បីបង្ហាញតួអក្សរ (ចំណាយពិន្ទុ)</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Name Input Modal -->
            <div class="modal" id="nameModal" style="display: none;">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>🎉 ពិន្ទុខ្ពស់!</h2>
                    </div>
                    <div class="modal-body">
                        <p>អ្នកបានទទួលពិន្ទុ <span id="finalScore"></span> ពិន្ទុ!</p>
                        <p>បានលេងបាន <span id="finalRounds"></span> ពាក្យ</p>
                        <p>សូមបញ្ចូលឈ្មោះរបស់អ្នក:</p>
                        <input type="text" id="playerName" placeholder="ឈ្មោះ" maxlength="20" required>
                        <div class="modal-buttons">
                            <button class="btn btn-primary" id="submitName">រក្សាទុក</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    
    <!-- Firebase Configuration -->
    <script src="firebase-config.js"></script>
    
    <script src="script.js"></script>
</body>


</html>
